#!/bin/bash

echo -e "\n  Test test1.sh"

echo -e "\nMount the file system"
cd ..

echo -e "\nmake clean"
make clean

echo -e "\nmake"
make
../src/bbfs rootdir/ mountdir/

echo -e "\n  Start the test1.sh"

echo -e "\nAdd the file"
echo "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"> mountdir/file1.txt

echo -e "\nls in mountdir"
ls -l mountdir

echo -e "\nls in rootdir"
ls -laR rootdir

echo -e "\nReading file from mountdir"
cat mountdir/file1.txt

echo -e "\nRemove file from mountdir"
rm mountdir/file1.txt

echo -e "\nls in mountdir"
ls -l mountdir

echo -e "\nls in rootdir"
ls -laR rootdir

echo -e "\nUnmount the file system"
fusermount -u mountdir

echo -e "\n  Test is ending"